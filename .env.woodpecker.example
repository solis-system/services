# =============================================================================
# Woodpecker CI - Configuration
# =============================================================================
# Copier ce fichier en .env.woodpecker et remplir les valeurs
# Usage: docker compose -f woodpecker-compose.yml --env-file .env.woodpecker up -d

# URL publique de Woodpecker (adapter selon votre configuration)
# En développement local : http://localhost:8000
# En production : https://woodpecker.solisws.fr
WOODPECKER_HOST=http://localhost:8000

# Utilisateur admin (sera automatiquement admin au premier login)
# Mettre votre username GitHub/Gitea/GitLab
WOODPECKER_ADMIN=admin

# Secret partagé entre server et agent
# Générer avec : openssl rand -hex 32
WOODPECKER_AGENT_SECRET=change-this-secret-please

# Niveau de log (debug, trace, info, warn, error)
WOODPECKER_LOG_LEVEL=info

# =============================================================================
# Configuration Git Provider (décommenter et remplir une seule section)
# =============================================================================

# --- GitHub ---
# Obtenir les credentials : https://github.com/settings/developers
# Créer une OAuth App avec callback : {WOODPECKER_HOST}/authorize
WOODPECKER_GITHUB_CLIENT=your_github_client_id
WOODPECKER_GITHUB_SECRET=your_github_client_secret

# --- Gitea ---
# Obtenir les credentials : Settings → Applications → Create OAuth2 Application
# Redirect URI : {WOODPECKER_HOST}/authorize
# WOODPECKER_GITEA=true
# WOODPECKER_GITEA_URL=https://gitea.example.com
# WOODPECKER_GITEA_CLIENT=your_gitea_client_id
# WOODPECKER_GITEA_SECRET=your_gitea_client_secret

# --- GitLab ---
# Obtenir les credentials : Settings → Applications
# Redirect URI : {WOODPECKER_HOST}/authorize
# Scopes requis : api, read_user, read_repository
# WOODPECKER_GITLAB=true
# WOODPECKER_GITLAB_URL=https://gitlab.com
# WOODPECKER_GITLAB_CLIENT=your_gitlab_application_id
# WOODPECKER_GITLAB_SECRET=your_gitlab_secret
